import CopyCommandInput from "@components/CopyCommandInput"
import DownloadItem from "@components/DownloadItem"
import releases from "@data/releases.json"
import WindowsProtect from "./WindowsProtect.mdx"

### On Windows 10/11

<div className="prereq">
#### Prerequisite

Install **Decky Loader** (Plugin utility):
<br />
<a 
    className = "cta" 
    href = "https://www.dropbox.com/scl/fi/7jfv18iiwxph38mohjhlw/decky.bat?rlkey=xyhlm295qo5yoxhioiu5dmev1&st=p01j9sm5&dl=1" 
    download>decky.bat</a>

Once downloaded, right-click > "Run as Administrator" to install
</div>

<WindowsProtect />

<br />
<br />

#### Quick Setup

Download the following "MHOnDeck UI Theme" installer:

<a 
    className = "cta" 
    href = "https://www.dropbox.com/scl/fi/b44a572qy22dz7uwumc9q/theme.bat?rlkey=vwl24wq5u6ctb9hfvmidmakyh&st=oy9kfteg&dl=0" 
    download>theme.bat</a>


Right-click and "Run as Administrator"

Follow the onscreen prompts (hit Enter to use default file/folder paths)

Once the installation completes, the folder at ```Decky\PluginLoader_Win``` will open

Run either ```PluginLoader.exe``` or ```PluginLoader_noconsole.exe``` (starts silently in the background)

<br />
<br />

#### Manual Setup

Navigate to your Steam installation location and create a blank file with the following name:

<CopyCommandInput copyCommand = ".cef-enable-remote-debugging" />

Make sure "File name extensions" is checked off at the top of the File Explorer under the "View" tab

Alternatively, open the command prompt at this location and run:

<CopyCommandInput copyCommand = {`type nul > \".cef-enable-remote-debugging\"`} />

This enables CEF Remote Debugging and is *required*

Next, copy and run the following command to setup Decky Loader (default location: Documents\Decky\PluginLoader_Win):

<CopyCommandInput copyCommand = {`cd %USERPROFILE%\Documents && curl -L -o \"PluginLoader_Win.zip\" \"https://nightly.link/SteamDeckHomebrew/decky-loader/workflows/build-win/main/PluginLoader%20Win.zip\" && powershell -command \"Expand-Archive -Path 'PluginLoader_Win.zip' -DestinationPath '.\Decky\PluginLoader_Win'\" && del \"PluginLoader_Win.zip\" && echo Done! || echo Failed!`} />

Next, download the latest MHOnDeck UI Theme

<ul className="link-box">
    <DownloadItem 
        item = {releases.theme}
        onClick = {props.setDownload}
    />
</ul>

OR

<ul className="link-box">
    <DownloadItem 
        item = {releases.css}
        onClick = {props.setDownload}
    />
    <DownloadItem 
        item = {releases.sfx}
        onClick = {props.setDownload}
    />
</ul>

Alternatively, run the following command (downloads and unpacks the "MHOnDeck UI Theme" into your ```%USERPROFILE%\homebrew``` folder):

<CopyCommandInput
    copyCommand={
        `cd "%USERPROFILE%" && curl -L -o "homebrew.zip" "https://www.dropbox.com/scl/fi/uvj2y305tf4ftnlnbyldj/homebrew.zip?rlkey=ephy3vcmzc4nz8udum0lt4sih&dl=1" && powershell -command "Expand-Archive -Path 'homebrew.zip' -DestinationPath '.'" && echo Done! || echo Failed!`
    }
/>

Next, open the folder: ```Decky\PluginLoader_Win```

Run either ```PluginLoader.exe``` or ```PluginLoader_noconsole.exe``` (starts silently in the background)